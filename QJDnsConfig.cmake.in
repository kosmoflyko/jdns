if(Qt5Core_FOUND)
  set(SUFFIX qt5)
elseif(Qt4_FOUND)
  set(SUFFIX qt4)
else()
  message(FATAL_ERROR "Qt4/5 is not found. Need to explicity set Qt first.")
endif()

if(QJDns_FIND_REQUIRED)
  list(APPEND ARGS REQUIRED)
endif()

if(QJDns_FIND_QUIETLY)
  list(APPEND ARGS QUIET)
endif()

list(APPEND ARGS CONFIG)

get_filename_component(PACKAGE_PREFIX_DIR "${CMAKE_CURRENT_LIST_DIR}/../qjdns-${SUFFIX}" ABSOLUTE)
list(APPEND ARGS HINTS ${PACKAGE_PREFIX_DIR})

list(APPEND ARGS
  NO_DEFAULT_PATH
  NO_CMAKE_ENVIRONMENT_PATH
  NO_CMAKE_PATH
  NO_SYSTEM_ENVIRONMENT_PATH
  NO_CMAKE_PACKAGE_REGISTRY
  NO_CMAKE_BUILDS_PATH
  NO_CMAKE_SYSTEM_PATH
  NO_CMAKE_SYSTEM_PACKAGE_REGISTRY
  NO_CMAKE_FIND_ROOT_PATH
)

find_package(QJDns-${SUFFIX} ${ARGS})
